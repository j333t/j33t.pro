<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} Â· {{ .Site.Title }}{{ end }}</title>
  {{ with .Site.Params.description }}<meta name="description" content="{{ . }}" />{{ end }}

  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600&family=Source+Serif+4:opsz,wght@8..60,900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/custom.css" />
  <link rel="icon" type="image/png" href="/favicon.png" />
</head>
<body>
  <header class="site-nav">
    <div class="wrap">
      <a href="/" class="brand">
        <img src="/logo.png" alt="CraftyCrow" />
      </a>
      <button class="nav-toggle" aria-label="Menu">â˜°</button>
      <nav class="links">
        {{ range .Site.Menus.main }}
          {{ $isActive := or ($.IsMenuCurrent "main" .) ($.HasMenuCurrent "main" .) (and $.IsHome (eq .URL "/")) }}
          {{ $isExternal := hasPrefix .URL "http" }}
          <a href="{{ .URL }}" class="{{ if $isActive }}active{{ end }}" {{ if $isExternal }}target="_blank" rel="noopener"{{ end }}>{{ .Name }}</a>
        {{ end }}
      </nav>
      <button class="theme-toggle" aria-label="Toggle theme" title="Toggle theme">ðŸŒ“</button>
    </div>
  </header>

  <main id="app">
    <div class="markdown-section">
      {{ block "main" . }}{{ end }}
    </div>
  </main>

  <footer class="site-foot">
    <div class="wrap foot-grid">
      <div class="foot-col">
        <div class="mini">Letâ€™s build your tech backbone.</div>
        <div class="legal">Â© 2025 Â· J33T Â· Crafty Crow</div>
      </div>
      <div class="foot-col">
        <div class="mini">Contact</div>
        <ul>
          <li><a href="mailto:connect@j33t.pro">connect@j33t.pro</a></li>
          <li><a href="tel:+918092021020">+91 80920 21020</a></li>
        </ul>
      </div>
      <div class="foot-col">
        <div class="mini">Follow</div>
        <ul>
          <li><a href="https://twitter.com/">Twitter</a></li>
          <li><a href="https://www.linkedin.com/">LinkedIn</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener('click', event => {
      if (event.target.closest('.nav-toggle')) document.body.classList.toggle('nav-open');
      if (event.target.matches('.links a')) document.body.classList.remove('nav-open');
    });

    const root = document.documentElement;
    const saved = localStorage.getItem('theme');
    if (saved) root.setAttribute('data-theme', saved);
    document.querySelector('.theme-toggle')?.addEventListener('click', () => {
      const next = root.getAttribute('data-theme') === 'dark' ? '' : 'dark';
      if (next) {
        root.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
      } else {
        root.removeAttribute('data-theme');
        localStorage.removeItem('theme');
      }
    });
  </script>
</body>
</html>
